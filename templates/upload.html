<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload Videos - Video KYC</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <div class="logo">
                <div class="logo-icon">V</div>
                <div class="logo-text">
                    <div class="logo-title">Video KYC</div>
                    <div class="logo-subtitle">AI Verification</div>
                </div>
            </div>
            <nav class="nav">
                <a href="/" class="nav-link">Home</a>
                <a href="/recording-assistant" class="nav-link">Recording Assistant</a>
                <a href="/upload" class="nav-link active">Upload</a>
                <a href="/analyze" class="nav-link">Analysis</a>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <div class="page-container">
        <div class="page-header">
            <h1 class="page-title">Upload Videos</h1>
            <p class="page-subtitle">Upload pre-recorded KYC videos and supporting documents for analysis.</p>
        </div>

        <div class="upload-sections">
            <!-- Video Upload Section -->
            <div class="upload-card">
                <div class="upload-card-header">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                        <polyline points="14 2 14 8 20 8"></polyline>
                    </svg>
                    <h2>Video Upload</h2>
                </div>

                <div class="dropzone" id="video-dropzone">
                    <input type="file" id="video-input" accept="video/mp4,video/webm,video/avi,video/mov" style="display: none;">
                    <div class="dropzone-content">
                        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                            <polyline points="17 8 12 3 7 8"></polyline>
                            <line x1="12" y1="3" x2="12" y2="15"></line>
                        </svg>
                        <h3>Drag and drop your video here</h3>
                        <p class="dropzone-info">Supported formats: MP4, MOV, AVI • Max size: 500MB</p>
                        <button class="btn-secondary" id="browse-video-btn">Browse Files</button>
                    </div>
                    <div class="dropzone-preview" id="video-preview" style="display: none;">
                        <div class="preview-icon">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polygon points="23 7 16 12 23 17 23 7"></polygon>
                                <rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>
                            </svg>
                        </div>
                        <div class="preview-info">
                            <h4 id="video-filename">video.mp4</h4>
                            <p id="video-size">0 MB</p>
                        </div>
                        <button class="btn-remove" id="remove-video-btn">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="18" y1="6" x2="6" y2="18"></line>
                                <line x1="6" y1="6" x2="18" y2="18"></line>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Reference Documents Section -->
            <div class="upload-card">
                <div class="upload-card-header">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                        <circle cx="8.5" cy="8.5" r="1.5"></circle>
                        <polyline points="21 15 16 10 5 21"></polyline>
                    </svg>
                    <h2>Reference Documents (Optional)</h2>
                </div>

                <p class="section-description">
                    Upload PAN, Aadhaar, or other identity documents for face matching verification.
                </p>

                <button class="btn-add-documents" id="add-documents-btn">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="17 8 12 3 7 8"></polyline>
                        <line x1="12" y1="3" x2="12" y2="15"></line>
                    </svg>
                    Add Documents
                </button>
                <input type="file" id="document-input" accept="image/*" multiple style="display: none;">

                <div class="document-list" id="document-list"></div>
            </div>

            <!-- Upload Progress -->
            <div class="upload-progress-section" id="upload-progress-section" style="display: none;">
                <h3>Uploading...</h3>
                <div class="progress-bar">
                    <div class="progress-fill" id="upload-progress-fill" style="width: 0%;">
                        <span id="upload-progress-text">0%</span>
                    </div>
                </div>
                <p id="upload-status-text">Preparing upload...</p>
            </div>

            <!-- Upload Button -->
            <button class="btn-upload" id="upload-btn" disabled>
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                    <polyline points="17 8 12 3 7 8"></polyline>
                    <line x1="12" y1="3" x2="12" y2="15"></line>
                </svg>
                Upload Files
            </button>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <p>&copy; 2024 Video KYC. RBI-compliant verification system.</p>
            <div class="footer-badges">
                <span>Enterprise Grade Security</span>
                <span>•</span>
                <span>ISO 27001 Certified</span>
            </div>
        </div>
    </footer>

    <script src="{{ url_for('static', filename='js/upload.js') }}"></script>
</body>
</html>
